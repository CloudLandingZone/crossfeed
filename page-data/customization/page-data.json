{"componentChunkName":"component---src-templates-documentation-page-js","path":"/customization","result":{"data":{"markdownRemark":{"html":"<h2>Creating your own instance of Crossfeed</h2>\n<p>When you create your own instance of Crossfeed, you can customize many aspects of how it looks.</p>\n<p>The <code>dev.env.example</code> file contains a full list of all customizable variables.</p>\n<h2>User Agent and signing requests</h2>\n<p>Crossfeed's workers, when performing requets, can optionally send a User Agent identifying the requestor as Crossfeed\nand a <code>Signature</code> header to verify that Crossfeed is performing the request.</p>\n<p>To do this, you can set the <code>WORKER_USER_AGENT</code>, the <code>WORKER_SIGNATURE_PUBLIC_KEY</code>, and the <code>WORKER_SIGNATURE_PRIVATE_KEY</code> parameters in your env file:</p>\n<pre><code>WORKER_USER_AGENT=\"Crossfeed (Test request from Crossfeed Staging Environment, for development use only. For more information, see https://github.com/cisagov/crossfeed)\"\nWORKER_SIGNATURE_PUBLIC_KEY=\"public key, can have newlines\"\nWORKER_SIGNATURE_PRIVATE_KEY=\"private key, can have newlines\"\n</code></pre>\n<h3>Generating RSA keys</h3>\n<p>The public and private key values can be generated by running:</p>\n<pre><code class=\"language-bash\">ssh-keygen -m PEM -t rsa -f test_key\nssh-keygen -f test_key.pub -m 'PEM' -e > test_key.pem\n</code></pre>\n<p>The public key is the value of <code>test_key.pem</code> and the private key is the value of <code>test_key</code>.</p>\n<h3>Verifying a request</h3>\n<p>One can then verify that requests are coming from Crossfeed by providing you with the following parts of the request:</p>\n<ul>\n<li>Value of the <code>Date</code> header</li>\n<li>Value of the <code>Signature</code> header</li>\n<li>Request method</li>\n<li>Request URL</li>\n</ul>\n<p>You can call the <code>SignRequests.verify_signature</code> method (found in <code>backend/worker/mitmproxy_sign_requests.py</code>) to verify a signature with\nthe above four parts of a request. Crossfeed will later have an admin UI that allows admins to run this check directly from the web interface.</p>\n<p>Note that when deploying Crossfeed to AWS, the worker signature public and private keys should also be set as SSM secrets (such as <code>/crossfeed/staging/WORKER_SIGNATURE_PUBLIC_KEY</code> and <code>/crossfeed/staging/WORKER_SIGNATURE_PRIVATE_KEY</code>).</p>","frontmatter":{"title":"Customization","sidenav":"user-guide"},"fields":{"name":"customization"}}},"pageContext":{"name":"customization"}},"staticQueryHashes":["1824138477","561523179","63159454"]}